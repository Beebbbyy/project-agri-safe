# ==================================================
# Project Agri-Safe - Environment Variables Template
# ==================================================
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit the .env file to version control!

# ==================================================
# PostgreSQL - Main Application Database
# ==================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=agrisafe_db
POSTGRES_USER=agrisafe
POSTGRES_PASSWORD=agrisafe_password_change_in_production

# ==================================================
# Redis - Caching and Message Broker
# ==================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================================================
# Apache Airflow Configuration
# ==================================================
# Airflow Authentication
AIRFLOW_USERNAME=admin
AIRFLOW_PASSWORD=admin_change_in_production

# Airflow Security Keys (generate new ones for production!)
# Generate Fernet key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AIRFLOW_FERNET_KEY=fb8Wa0aVcPZr8Y4fq3tN8yK2J5LqR9xM1wH7jB6eC4s=
AIRFLOW_SECRET_KEY=your_airflow_secret_key_here

# Airflow Executor (CeleryExecutor for distributed tasks)
AIRFLOW__CORE__EXECUTOR=CeleryExecutor

# Airflow Database Connection (separate PostgreSQL instance for Airflow metadata)
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@airflow-postgres:5432/airflow

# Airflow Celery Configuration
AIRFLOW__CELERY__BROKER_URL=redis://redis:6379/0
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://airflow:airflow@airflow-postgres:5432/airflow

# Airflow Settings
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=True

# ==================================================
# Application Settings
# ==================================================
APP_ENV=development
DEBUG=True
LOG_LEVEL=INFO

# Application URLs (for Docker network)
DATABASE_URL=postgresql://agrisafe:agrisafe_password_change_in_production@postgres:5432/agrisafe_db
REDIS_URL=redis://redis:6379/0

# ==================================================
# External API Keys
# ==================================================
# PAGASA Weather API (if available)
PAGASA_API_KEY=your_pagasa_api_key_here
PAGASA_API_URL=https://api.pagasa.dost.gov.ph

# OpenWeatherMap (alternative weather data source)
OPENWEATHER_API_KEY=your_openweather_api_key_here
OPENWEATHER_API_URL=https://api.openweathermap.org/data/2.5

# LLM APIs (choose one or use both)
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_MODEL=gpt-4-turbo-preview
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Default LLM provider (openai or anthropic)
LLM_PROVIDER=anthropic

# ==================================================
# Security & Authentication
# ==================================================
# JWT Secret Key (generate a strong random key!)
SECRET_KEY=your_jwt_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Allowed Hosts/Origins
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:8501,http://localhost:3000

# ==================================================
# FastAPI Backend Settings (Phase 4)
# ==================================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=True

# ==================================================
# Streamlit Frontend Settings (Phase 5)
# ==================================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
BACKEND_API_URL=http://backend:8000

# ==================================================
# Machine Learning Model Settings
# ==================================================
ML_MODEL_PATH=/app/models
FLOOD_RISK_MODEL_VERSION=v1.0
CONFIDENCE_THRESHOLD=0.70

# ==================================================
# Data Processing Settings
# ==================================================
DATA_RETENTION_DAYS=365
FORECAST_DAYS_AHEAD=5
WEATHER_UPDATE_INTERVAL_HOURS=6

# ==================================================
# External Services (Future Features)
# ==================================================
# Twilio SMS Notifications
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# SendGrid Email
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=

# ==================================================
# Monitoring & Logging (Optional)
# ==================================================
SENTRY_DSN=
ENABLE_METRICS=False

# ==================================================
# Development/Testing Settings
# ==================================================
# Set to 'true' to load seed data on startup
LOAD_SEED_DATA=true
# Set to 'true' to reset database on startup (DANGER!)
RESET_DATABASE=false
